<div *ngIf="!display" id="formSearch" class="border border-dark">
    <h1 class=" display-3 "><u> Search User</u> </h1>
    <div class="input-group">
        <input required pattern="^([a-zA-Z]+[\s])+[a-zA-Z]+$" [(ngModel)]="searchUserName" id="searchInput " type="text" class="form-control mb-2 mr-sm-0 mb-sm-3" placeholder="Enter User Name ..">
        <span class="validity "></span>
    </div>
    <button [disabled]="!searchUserName" (click)=" onSearchUser()" type=" button " class="btn btn-primary btn-lg btn-block ">Search</button>
    <button (click)="onResetUser() " type="button " class="btn btn-secondary btn-lg btn-block ">Reset Form</button>

    <h1 class="alert" *ngIf="!user && showDetails">
        <div class="alert alert-danger">
            <strong>User Not Found</strong>
        </div>
    </h1>
</div>



<div *ngIf="display">
    <div class="border border-dark ">
        <table class="table table-striped table-dark ">
            <thead>
                <td>UserID</td>
                <td>FullName</td>
                <td>IdCard</td>
                <td>UserName</td>
                <td>DateOfBirth</td>
                <td>Gender</td>
                <td>Email</td>
                <td>RoleName</td>
                <td>Image</td>
                <tr>
                    <td> {{user.UserID}}</td>
                    <td> {{user.FullName}}</td>
                    <td> {{user.IdCard}}</td>
                    <td> {{user.UserName}}</td>
                    <td> {{user.DateOfBirth}}</td>
                    <td> {{user.Gender}}</td>
                    <td> {{user.Email}}</td>
                    <td> {{user.RoleName}}</td>
                    <td> {{user.Image}}</td>
                </tr>
            </thead>
        </table>

        <em><h1 class="display-3"><u>Update User </u> </h1></em>
        <div class="input-group ">
            <input required pattern="^([a-zA-Z]+[\s])+[a-zA-Z]+$" [(ngModel)]="updateUser.FullName" type="text" class="form-control mb-2 mr-sm-0 mb-sm-1" placeholder="Enter full Name..">
            <span class="validity "></span>
        </div>
        <div class="input-group ">
            <input type="number" required pattern="[0-9]{4} *[0-9]{2} *[0-9]{3}" [(ngModel)]="updateUser.IdCard" class=" form-control mb-2 mr-sm-0 mb-sm-1" placeholder="Enter ID Card..">
            <span class="validity "></span>
        </div>
        <div class="input-group ">
            <input required pattern="^[a-zA-Z][a-zA-Z0-9-_\.]{1,20}$ " [(ngModel)]="updateUser.UserName" type="text" class="form-control mb-2 mr-sm-0 mb-sm-3" placeholder="Enter User Name..">
            <span class="validity "></span>
        </div>
        <div class="input-group ">
            <input required pattern="[0-9]{4}-(0[1-9]|1[012])-(0[1-9]|1[0-9]|2[0-9]|3[01]) " type="date" [(ngModel)]="updateUser.DateOfBirth " class="form-control mb-2 mr-sm-0 mb-sm-1">
            <span class="validity "></span>
        </div>
        <div class="input-group ">
            <input required [(ngModel)]="updateUser.Email " type="email" class="form-control mb-2 mr-sm-0 mb-sm-3 " placeholder="Enter Email">
            <span class="validity "></span>
        </div>
        <div class="input-group ">
            <input required pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?!.*\s).*$" [(ngModel)]="updateUser.Password" #Password type="Password" class="form-control mb-2 mr-sm-0 mb-sm-3" placeholder="Enter Password">
            <span class="validity "></span>
        </div>
        <form>
            <h4>Choose your gender:</h4>
            <div>
                <input [(ngModel)]="updateUser.Gender " type="radio" name="sex " id="sex-m " value="true ">
                <label for="sex-m ">Male</label>
                <input [(ngModel)]="updateUser.Gender " type="radio" name="sex " id="sex-f " value="false ">
                <label for="sex-f ">Female</label>
            </div>
        </form>
        <button *ngIf="updateUser.FullName && updateUser.UserName && updateUser.Password" (click)="onEditUser()" type="button " class="btn btn-primary btn-lg btn-block ">Update User</button>
        <button (click)="onResetUser()" type="button " class="btn btn-secondary btn-lg btn-block ">Reset Form</button>
        <h1 class="alert">
            <div *ngIf="updateSuccess" class="alert alert-success">
                <strong>Update Done!!</strong>
            </div>
            <div *ngIf="!updateSuccess && isNotValid " class="alert alert-danger">
                <strong>Update Failed</strong>
            </div>
        </h1>
    </div>
</div>
<div class="border border-dark ">
    <div>
        <h1 class=" display-3 "><u>Add User </u> </h1>
    </div>
    <div class="input-group ">
        <input required pattern="^([a-zA-Z]+[\s])+[a-zA-Z]+$" [(ngModel)]="newUser.FullName " type="text" class="form-control mb-2 mr-sm-0 mb-sm-1 " placeholder="Enter full Name.. ">
        <span class="validity "></span>
    </div>

    <div class="input-group ">
        <input type="text " required pattern="[0-9]{4} *[0-9]{2} *[0-9]{3}" [(ngModel)]="newUser.IdCard" class=" form-control mb-2 mr-sm-0 mb-sm-1 " placeholder="Enter ID Card.. ">
        <span class="validity "></span>
    </div>

    <div class="input-group ">
        <input required pattern="^[a-zA-Z][a-zA-Z0-9-_\.]{1,20}$ " [(ngModel)]="newUser.UserName " type="text" class="form-control mb-2 mr-sm-0 mb-sm-3 " placeholder="Enter User Name.. ">
        <span class="validity "></span>
    </div>

    <h4>Enter Your Birthday:</h4>
    <div class="input-group ">
        <input required pattern="[0-9]{4}-(0[1-9]|1[012])-(0[1-9]|1[0-9]|2[0-9]|3[01]) " type="date" [(ngModel)]="newUser.DateOfBirth " class="form-control mb-2 mr-sm-0 mb-sm-1 ">
        <span class="validity "></span>
    </div>


    <div class="input-group ">
        <input required [(ngModel)]="newUser.Email" type="email" class="form-control mb-2 mr-sm-0 mb-sm-3 " placeholder="Enter Email">
        <span class="validity "></span>
    </div>

    <div class="input-group ">
        <input [(ngModel)]="newUser.Password" required pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?!.*\s).*$ " #Password type="Password" class="form-control mb-2 mr-sm-0 mb-sm-3 " placeholder="Enter Password ">
        <span class="validity "></span>
    </div>
    <form>
        <h4>Choose your gender:</h4>
        <div>
            <input [(ngModel)]="newUser.Gender " type="radio" name="sex " id="sex-m " value="true ">
            <label for="sex-m ">Male</label>
            <input [(ngModel)]="newUser.Gender " type="radio" name="sex " id="sex-f " value="false ">
            <label for="sex-f ">Female</label>
        </div>
    </form>

    <button *ngIf="newUser.FullName && newUser.IdCard && newUser.UserName && newUser.Gender && newUser.Email && newUser.Password " (click)="onAddingUser(Password.value) " type="button " class="btn btn-primary btn-lg btn-block ">Add User</button>
    <button (click)="onResetUser() " type="button " class="btn btn-secondary btn-lg btn-block ">Reset Form</button>
</div>

<h1 class="alert ">
    <div *ngIf="addedSuccess " class="alert alert-success ">
        <strong>Added Success!!</strong>
    </div>
</h1>
<h1 class="alert ">
    <div *ngIf="!addedSuccess && isNotValid " class="alert alert-danger ">
        <strong>Incorrect Input </strong>
    </div>
</h1>

<div id="delete " class="border border-dark ">
    <em><h1 class="display-3 "><u>Delete User </u> </h1> </em>
    <div class=" col-xs-2 ">
        <div class="input-group input-group ">
            <input required pattern="[1-9]{1,5} " [(ngModel)]="UserId " type="number" class="form-control mb-2 mr-sm-0 mb-sm-3 " placeholder="Enter User ID.. ">
            <span class="validity "></span>
        </div>
        <button [disabled]="!UserId " type="button " class="btn btn-danger btn-lg btn-block " (click)="onDeleteUser() ">Delete User</button>
    </div>
</div>
<h1 class="alert " *ngIf="deleteSuccess">
    <div class="alert alert-danger">
        <strong>Delete Done!!</strong>
    </div>
</h1>